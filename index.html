<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Novarix</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/3.0.3/jspdf.umd.min.js" integrity="sha384-GwHhSt8QjC7J+v0zZ0Flfho/T76YHEcCL9w4rvjTIUHauh6gWJeBSIi3vWXxNhtA" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/5.0.2/jspdf.plugin.autotable.min.js" integrity="sha384-voAWf+DQNBx+Eya8tGEw2DHSo8aPM0bTyJhi+ZbLLfV6HzrvPV/UqIvc3+ULj7bS" crossorigin="anonymous"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: {
              50: '#F0FDFD',
              100: '#CCFBF9',
              200: '#99F2F0',
              300: '#5CE6E2',
              400: '#2BC8C4',
              500: '#0FA8A3',
              600: '#0D7377',
              700: '#0A5C5F',
              800: '#084A4C',
              900: '#063838',
              950: '#032525',
            },
            accent: {
              50: '#FFFBEB',
              100: '#FEF3C7',
              200: '#FDE68A',
              300: '#FCD34D',
              400: '#FBBF24',
              500: '#F59E0B',
              600: '#D97706',
              700: '#B45309',
              800: '#92400E',
              900: '#78350F',
            },
            surface: {
              base: '#F8FAFB',
              raised: '#FFFFFF',
              elevated: '#FFFFFF',
              floating: '#FFFFFF',
            },
            border: '#E2E8F0',
          },
          fontFamily: {
            display: ['"DM Serif Display"', 'serif'],
            body: ['"Inter"', 'sans-serif'],
          },
          spacing: {
            '1': '4px',
            '2': '8px',
            '3': '12px',
            '4': '16px',
            '6': '24px',
            '8': '32px',
            '12': '48px',
            '16': '64px',
          },
          letterSpacing: {
            'display': '-0.03em',
          },
          lineHeight: {
            'body': '1.7',
          },
          boxShadow: {
            'raised': '0 1px 2px rgba(13,115,119,0.04), 0 4px 12px rgba(13,115,119,0.06)',
            'elevated': '0 1px 2px rgba(13,115,119,0.06), 0 8px 24px rgba(13,115,119,0.10), 0 0 0 1px rgba(255,255,255,0.04) inset',
            'floating': '0 1px 2px rgba(0,0,0,0.08), 0 8px 24px rgba(13,115,119,0.12), 0 24px 48px rgba(0,0,0,0.12)',
          },
          borderRadius: {
            'card': '12px',
            'btn': '8px',
            'input': '8px',
          },
        },
      },
    }
  </script>
  <style>
    * { box-sizing: border-box; }
    body { font-family: 'Inter', sans-serif; line-height: 1.7; background: #F8FAFB; }
    h1, h2, h3 { font-family: 'DM Serif Display', serif; letter-spacing: -0.03em; }

    /* SVG grain texture overlay */
    .grain::after {
      content: '';
      position: fixed;
      inset: 0;
      pointer-events: none;
      opacity: 0.028;
      z-index: 9999;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    }

    /* Layered shadows */
    .shadow-raised { box-shadow: 0 1px 2px rgba(13,115,119,0.04), 0 4px 12px rgba(13,115,119,0.06); }
    .shadow-elevated { box-shadow: 0 1px 2px rgba(13,115,119,0.06), 0 8px 24px rgba(13,115,119,0.10), 0 0 0 1px rgba(255,255,255,0.04) inset; }
    .shadow-floating { box-shadow: 0 1px 2px rgba(0,0,0,0.08), 0 8px 24px rgba(13,115,119,0.12), 0 24px 48px rgba(0,0,0,0.12); }

    /* Spring easing */
    .spring-bounce { transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); }
    .spring-smooth { transition: transform 0.35s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.35s cubic-bezier(0.16, 1, 0.3, 1); }

    /* Interactive states */
    .btn-primary {
      background: #0D7377;
      color: white;
      padding: 10px 24px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
      border: none;
      cursor: pointer;
      transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.2s ease;
    }
    .btn-primary:hover { background: #0A5C5F; transform: translateY(-1px); }
    .btn-primary:focus-visible { outline: 2px solid #0D7377; outline-offset: 2px; }
    .btn-primary:active { transform: translateY(0px) scale(0.98); }

    .btn-secondary {
      background: white;
      color: #0D7377;
      padding: 10px 24px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
      border: 1.5px solid #E2E8F0;
      cursor: pointer;
      transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.2s ease;
    }
    .btn-secondary:hover { border-color: #0D7377; background: #F0FDFD; transform: translateY(-1px); }
    .btn-secondary:focus-visible { outline: 2px solid #0D7377; outline-offset: 2px; }
    .btn-secondary:active { transform: translateY(0px) scale(0.98); }

    .btn-danger {
      background: #FEE2E2;
      color: #DC2626;
      padding: 10px 24px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
      border: 1.5px solid #FECACA;
      cursor: pointer;
      transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.2s ease;
    }
    .btn-danger:hover { background: #FCA5A5; color: #991B1B; transform: translateY(-1px); }
    .btn-danger:focus-visible { outline: 2px solid #DC2626; outline-offset: 2px; }
    .btn-danger:active { transform: translateY(0px) scale(0.98); }

    .btn-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      border-radius: 8px;
      border: none;
      background: transparent;
      cursor: pointer;
      color: #64748B;
      transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.2s ease, background 0.15s ease;
    }
    .btn-icon:hover { background: #F0FDFD; color: #0D7377; transform: translateY(-1px); }
    .btn-icon:focus-visible { outline: 2px solid #0D7377; outline-offset: 2px; }
    .btn-icon:active { transform: scale(0.92); }

    /* Sidebar */
    .sidebar { width: 260px; min-height: 100vh; background: #032525; color: white; }
    .sidebar-link {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 24px;
      color: rgba(255,255,255,0.6);
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      border-radius: 0;
      cursor: pointer;
      transition: transform 0.15s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.15s ease, background 0.15s ease, color 0.15s ease;
    }
    .sidebar-link:hover { background: rgba(255,255,255,0.06); color: white; }
    .sidebar-link:focus-visible { outline: 2px solid #2BC8C4; outline-offset: -2px; }
    .sidebar-link:active { transform: scale(0.98); }
    .sidebar-link.active { background: rgba(13,115,119,0.35); color: white; border-left: 3px solid #2BC8C4; padding-left: 21px; }

    /* Form inputs */
    .form-input {
      width: 100%;
      height: 40px;
      padding: 0 12px;
      border: 1.5px solid #E2E8F0;
      border-radius: 8px;
      font-family: 'Inter', sans-serif;
      font-size: 14px;
      color: #1E293B;
      background: white;
      transition: border-color 0.15s ease;
    }
    .form-input:hover { border-color: #CBD5E1; }
    .form-input:focus { border-color: #0D7377; outline: 2px solid rgba(13,115,119,0.15); outline-offset: 0; }
    .form-input::placeholder { color: #94A3B8; }

    .form-textarea {
      width: 100%;
      min-height: 80px;
      padding: 8px 12px;
      border: 1.5px solid #E2E8F0;
      border-radius: 8px;
      font-family: 'Inter', sans-serif;
      font-size: 14px;
      color: #1E293B;
      background: white;
      resize: vertical;
      transition: border-color 0.15s ease;
    }
    .form-textarea:hover { border-color: #CBD5E1; }
    .form-textarea:focus { border-color: #0D7377; outline: 2px solid rgba(13,115,119,0.15); outline-offset: 0; }

    .form-label { display: block; font-size: 13px; font-weight: 600; color: #475569; margin-bottom: 4px; }
    .form-error { font-size: 12px; color: #DC2626; margin-top: 4px; }

    /* Status badges */
    .badge {
      display: inline-flex;
      align-items: center;
      padding: 2px 10px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 600;
      letter-spacing: 0.02em;
    }
    .badge-aktiv { background: #CCFBF9; color: #0A5C5F; }
    .badge-geplant { background: #FEF3C7; color: #92400E; }
    .badge-abgeschlossen { background: #E2E8F0; color: #475569; }
    .badge-offen { background: #FEF3C7; color: #92400E; }
    .badge-in_bearbeitung { background: #CCFBF9; color: #0A5C5F; }

    /* Card */
    .card {
      background: white;
      border-radius: 12px;
      border: 1px solid #E2E8F0;
      padding: 24px;
      transition: transform 0.25s cubic-bezier(0.16, 1, 0.3, 1), box-shadow 0.25s ease;
    }
    .card:hover { box-shadow: 0 1px 2px rgba(13,115,119,0.06), 0 8px 24px rgba(13,115,119,0.10); transform: translateY(-2px); }

    .card-clickable { cursor: pointer; }
    .card-clickable:focus-visible { outline: 2px solid #0D7377; outline-offset: 2px; }
    .card-clickable:active { transform: translateY(0px) scale(0.99); }

    /* Modal overlay */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(3,37,37,0.5);
      backdrop-filter: blur(4px);
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.2s ease;
    }
    .modal-backdrop.visible { opacity: 1; }
    .modal-content {
      background: white;
      border-radius: 16px;
      padding: 32px;
      max-width: 560px;
      width: 90%;
      max-height: 85vh;
      overflow-y: auto;
      transform: translateY(16px) scale(0.97);
      transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    }
    .modal-backdrop.visible .modal-content { transform: translateY(0) scale(1); }

    /* Hero glow gradients */
    .hero-glow {
      position: absolute;
      width: 600px;
      height: 600px;
      border-radius: 50%;
      filter: blur(120px);
      pointer-events: none;
      z-index: 0;
    }

    /* Scrollbar */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: #CBD5E1; border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: #94A3B8; }

    /* Tables */
    .data-table { width: 100%; border-collapse: collapse; font-size: 14px; }
    .data-table thead th {
      text-align: left;
      padding: 12px 16px;
      font-weight: 600;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: #64748B;
      border-bottom: 1.5px solid #E2E8F0;
      position: sticky;
      top: 0;
      background: white;
      z-index: 1;
    }
    .data-table tbody td { padding: 12px 16px; border-bottom: 1px solid #F1F5F9; color: #334155; }
    .data-table tbody tr:nth-child(even) td { background: #FAFCFD; }
    .data-table tbody tr:hover td { background: #F0FDFD; }

    /* ====== Calendar Components ====== */
    .cal-nav { display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; padding: 0 4px; }
    .cal-nav h2 { font-family: 'DM Serif Display', serif; font-size: 20px; margin: 0; color: #063838; letter-spacing: -0.02em; }
    .cal-nav button { width: 36px; height: 36px; border-radius: 10px; border: 1px solid #E2E8F0; background: white; cursor: pointer; display: flex; align-items: center; justify-content: center; color: #475569; font-size: 18px; transition: transform 0.15s cubic-bezier(0.16,1,0.3,1), opacity 0.15s ease; }
    .cal-nav button:hover { background: #F0FDFD; border-color: #0D7377; color: #0D7377; }
    .cal-nav button:active { transform: scale(0.93); }
    .cal-nav button:focus-visible { outline: 2px solid #0D7377; outline-offset: 2px; }

    .cal-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px; background: #E2E8F0; border-radius: 12px; overflow: hidden; border: 1px solid #E2E8F0; }
    .cal-header-cell { background: #F1F5F9; padding: 10px 4px; text-align: center; font-size: 12px; font-weight: 600; color: #64748B; text-transform: uppercase; letter-spacing: 0.06em; }
    .cal-header-cell--weekend { color: #94A3B8; }

    .cal-day { background: white; min-height: 68px; padding: 5px 6px; position: relative; cursor: pointer; transition: transform 0.12s cubic-bezier(0.16,1,0.3,1), opacity 0.12s ease; user-select: none; }
    .cal-day:hover { background: #F0FDFD; z-index: 1; }
    .cal-day:active { transform: scale(0.96); }
    .cal-day--outside { opacity: 0.25; pointer-events: none; }
    .cal-day--weekend { background: #F8FAFB; cursor: default; }
    .cal-day--weekend:hover { background: #F8FAFB; transform: none; }
    .cal-day--today { box-shadow: inset 0 0 0 2px #0D7377; }
    .cal-day--urlaub { background: rgba(13,115,119,0.10); border-left: 3px solid #0D7377; }
    .cal-day--urlaub:hover { background: rgba(13,115,119,0.18); }
    .cal-day--krank { background: rgba(220,38,38,0.08); border-left: 3px solid #DC2626; }
    .cal-day--krank:hover { background: rgba(220,38,38,0.15); }
    .cal-day--feiertag { background: rgba(245,158,11,0.10); border-left: 3px solid #F59E0B; }
    .cal-day--feiertag:hover { background: rgba(245,158,11,0.18); }
    .cal-day--selected { background: rgba(13,115,119,0.18); box-shadow: inset 0 0 0 2px #2BC8C4; }
    .cal-day--in-range { background: rgba(13,115,119,0.08); }
    .cal-day--out-of-project { opacity: 0.25; pointer-events: none; }
    .cal-day--project-start { border-left: 3px solid #0D7377; }
    .cal-day--project-end { border-right: 3px solid #0D7377; }
    .cal-day-number { font-size: 13px; font-weight: 500; color: #334155; line-height: 1; display: block; }
    .cal-day--weekend .cal-day-number { color: #94A3B8; }
    .cal-day--urlaub .cal-day-number,
    .cal-day--krank .cal-day-number,
    .cal-day--feiertag .cal-day-number { font-weight: 600; }
    .cal-day-label { font-size: 9px; color: #64748B; margin-top: 2px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 100%; display: block; }
    .cal-day--urlaub .cal-day-label { color: #0D7377; }
    .cal-day--krank .cal-day-label { color: #DC2626; }
    .cal-day--feiertag .cal-day-label { color: #B45309; }
    .cal-day-dots { display: flex; flex-wrap: wrap; gap: 2px; margin-top: 3px; }
    .cal-dot { width: 7px; height: 7px; border-radius: 50%; flex-shrink: 0; }
    .cal-dot--blocked { opacity: 0.4; }
    .cal-day--has-block { background: rgba(220,38,38,0.07); }
    .cal-day--has-block .cal-day-number { color: #DC2626; font-weight: 600; }
    .cal-day--all-blocked { background: rgba(220,38,38,0.12); border-left: 3px solid #DC2626; }
    .cal-day--all-blocked .cal-day-number { color: #DC2626; font-weight: 700; }
    .cal-legend { display: flex; gap: 20px; flex-wrap: wrap; padding: 12px 0; margin-top: 8px; font-size: 13px; color: #64748B; }
    .cal-legend-item { display: flex; align-items: center; gap: 6px; }
    .cal-legend-swatch { width: 12px; height: 12px; border-radius: 3px; flex-shrink: 0; }

    /* Unter-Arbeitspakete cascading tree */
    .ap-tree-item { position: relative; }
    .ap-tree-item--depth-1 { margin-left: 32px; }
    .ap-tree-item--depth-2 { margin-left: 64px; }
    .ap-tree-item--depth-1::before,
    .ap-tree-item--depth-2::before {
      content: ''; position: absolute; left: -20px; top: 50%; width: 16px; height: 1px; background: #CBD5E1;
    }
    .ap-tree-item--depth-1::after,
    .ap-tree-item--depth-2::after {
      content: ''; position: absolute; left: -20px; top: -12px; width: 1px; height: calc(50% + 12px); background: #CBD5E1;
    }
    .ap-tree-item--sub { background: #FAFCFD; border-color: #E2E8F0; }
    .ap-tree-item--sub:hover { background: #F0FDFD; }

    /* ====== AP Timeline / Gantt ====== */
    .ap-timeline-wrap {
      background: white;
      border: 1px solid #E2E8F0;
      border-radius: 12px;
      overflow: hidden;
    }
    .ap-timeline-toolbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 20px;
      border-bottom: 1px solid #E2E8F0;
      background: #FAFCFD;
      gap: 12px;
      flex-wrap: wrap;
    }
    .ap-timeline-toolbar h2 {
      font-family: 'DM Serif Display', serif;
      font-size: 18px;
      margin: 0;
      color: #063838;
      letter-spacing: -0.02em;
    }
    .ap-timeline-toolbar-right {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .ap-view-toggle {
      display: inline-flex;
      border: 1.5px solid #E2E8F0;
      border-radius: 8px;
      overflow: hidden;
      background: white;
    }
    .ap-view-toggle button {
      padding: 6px 14px;
      font-size: 12px;
      font-weight: 600;
      border: none;
      background: transparent;
      color: #64748B;
      cursor: pointer;
      transition: background 0.15s ease, color 0.15s ease;
      font-family: 'Inter', sans-serif;
    }
    .ap-view-toggle button:hover { background: #F0FDFD; color: #0D7377; }
    .ap-view-toggle button:focus-visible { outline: 2px solid #0D7377; outline-offset: -2px; }
    .ap-view-toggle button:active { transform: scale(0.96); }
    .ap-view-toggle button.active { background: #0D7377; color: white; }
    .ap-view-toggle button + button { border-left: 1.5px solid #E2E8F0; }

    .ap-timeline-nav {
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }
    .ap-timeline-nav button {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      border: 1px solid #E2E8F0;
      background: white;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #475569;
      font-size: 16px;
      transition: transform 0.15s cubic-bezier(0.16,1,0.3,1);
    }
    .ap-timeline-nav button:hover { background: #F0FDFD; border-color: #0D7377; color: #0D7377; }
    .ap-timeline-nav button:active { transform: scale(0.93); }
    .ap-timeline-nav button:focus-visible { outline: 2px solid #0D7377; outline-offset: 2px; }
    .ap-timeline-nav span {
      font-size: 13px;
      font-weight: 600;
      color: #334155;
      min-width: 120px;
      text-align: center;
    }

    .ap-timeline-body {
      overflow-x: auto;
      position: relative;
    }
    .ap-timeline-table {
      width: 100%;
      min-width: 600px;
      border-collapse: collapse;
    }
    .ap-timeline-table thead th {
      position: sticky;
      top: 0;
      background: #F8FAFB;
      font-size: 11px;
      font-weight: 600;
      color: #64748B;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      text-align: center;
      padding: 8px 0;
      border-bottom: 1px solid #E2E8F0;
      white-space: nowrap;
      z-index: 2;
    }
    .ap-timeline-table thead th.ap-th-label {
      text-align: left;
      padding-left: 20px;
      min-width: 240px;
      position: sticky;
      left: 0;
      z-index: 3;
      background: #F8FAFB;
    }
    .ap-timeline-table thead th.ap-th-today {
      color: #0D7377;
      font-weight: 700;
    }
    .ap-timeline-table thead th.ap-th-weekend {
      color: #CBD5E1;
    }

    .ap-timeline-table tbody td {
      padding: 0;
      border-bottom: 1px solid #F1F5F9;
      height: 44px;
      position: relative;
      vertical-align: middle;
    }
    .ap-timeline-table tbody td.ap-td-label {
      padding: 8px 12px 8px 20px;
      position: sticky;
      left: 0;
      background: white;
      z-index: 1;
      white-space: nowrap;
      min-width: 240px;
    }
    .ap-timeline-table tbody tr:nth-child(even) td { background: #FAFCFD; }
    .ap-timeline-table tbody tr:nth-child(even) td.ap-td-label { background: #FAFCFD; }
    .ap-timeline-table tbody tr:hover td { background: #F0FDFD; }
    .ap-timeline-table tbody tr:hover td.ap-td-label { background: #F0FDFD; }

    .ap-timeline-table td.ap-td-weekend { background: #F8FAFB !important; }
    .ap-timeline-table td.ap-td-today { box-shadow: inset 0 0 0 1.5px rgba(13,115,119,0.25); }

    .ap-gantt-bar {
      position: absolute;
      top: 8px;
      bottom: 8px;
      border-radius: 6px;
      z-index: 1;
      cursor: pointer;
      transition: transform 0.2s cubic-bezier(0.16,1,0.3,1), box-shadow 0.2s ease, opacity 0.15s ease;
      display: flex;
      align-items: center;
      padding: 0 8px;
      overflow: hidden;
      min-width: 4px;
    }
    .ap-gantt-bar:hover { transform: scaleY(1.15); box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 2; }
    .ap-gantt-bar:active { transform: scaleY(1.05); }
    .ap-gantt-bar-label {
      font-size: 11px;
      font-weight: 600;
      color: white;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      text-shadow: 0 1px 2px rgba(0,0,0,0.2);
    }

    .ap-timeline-empty {
      padding: 64px 32px;
      text-align: center;
      color: #94A3B8;
      font-size: 14px;
    }
    .ap-timeline-empty h3 { font-size: 16px; color: #334155; margin: 0 0 8px; font-weight: 600; }
    .ap-timeline-empty p { margin: 0 0 24px; max-width: 360px; margin-left: auto; margin-right: auto; }

    /* Year view: month columns */
    .ap-timeline-table--year thead th { font-size: 11px; min-width: 60px; }
    .ap-timeline-table--year tbody td { height: 36px; }

    /* Week view: wider day columns */
    .ap-timeline-table--week thead th { min-width: 100px; }
    .ap-timeline-table--week tbody td { height: 48px; }

    /* Today column highlight */
    .ap-col-today { background: rgba(13,115,119,0.04) !important; }

    /* ====== Phase 11: AP Timeline Enhancements ====== */

    /* Keyframes */
    @keyframes ap-bar-slide-in {
      from { transform: scaleX(0); opacity: 0; }
      to   { transform: scaleX(1); opacity: 1; }
    }
    @keyframes ap-fade-in {
      from { opacity: 0; }
      to   { opacity: 1; }
    }

    /* Summary Stats Bar */
    .ap-stats-bar {
      display: flex;
      align-items: center;
      gap: 24px;
      padding: 10px 20px;
      border-bottom: 1px solid #E2E8F0;
      background: #F8FAFB;
      font-size: 13px;
      color: #475569;
    }
    .ap-stat-item {
      display: flex;
      align-items: center;
      gap: 6px;
      font-weight: 500;
    }
    .ap-stat-value {
      font-weight: 700;
      color: #063838;
    }
    .ap-stat-progress {
      flex: 1;
      min-width: 120px;
      height: 6px;
      background: #E2E8F0;
      border-radius: 3px;
      overflow: hidden;
    }
    .ap-stat-progress-fill {
      height: 100%;
      border-radius: 3px;
      background: linear-gradient(90deg, #0D7377, #2BC8C4);
      transition: width 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    }

    /* ====== Plan & Timeline Tabs ====== */
    .plan-tabs {
      display: flex;
      align-items: center;
      gap: 4px;
      padding: 0 4px;
      background: white;
      border: 1.5px solid #E2E8F0;
      border-radius: 12px;
      margin-bottom: 28px;
      box-shadow: 0 1px 2px rgba(13,115,119,0.04), 0 4px 12px rgba(13,115,119,0.06);
    }
    .plan-tab {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 14px 22px;
      font-family: 'Inter', sans-serif;
      font-size: 13px;
      font-weight: 600;
      color: #64748B;
      background: transparent;
      border: none;
      border-bottom: 2.5px solid transparent;
      cursor: pointer;
      white-space: nowrap;
      transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.15s ease;
    }
    .plan-tab:hover { color: #0D7377; }
    .plan-tab:focus-visible { outline: 2px solid #0D7377; outline-offset: -2px; border-radius: 8px; }
    .plan-tab:active { transform: scale(0.97); }
    .plan-tab.active {
      color: #0D7377;
      border-bottom-color: #0D7377;
    }
    .plan-tab-icon {
      width: 18px;
      height: 18px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    .plan-tab-check {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #0D7377;
      color: white;
      font-size: 11px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    .plan-tab-content { display: none; }
    .plan-tab-content.active { display: block; }

    /* ====== Plan Items Header ====== */
    .plan-header-row {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px 20px;
      background: white;
      border-bottom: 1px solid #E2E8F0;
    }
    .plan-header-name {
      font-family: 'DM Serif Display', serif;
      font-size: 16px;
      color: #0D7377;
      font-weight: 700;
    }
    .plan-header-dates {
      font-size: 12px;
      color: #64748B;
      background: #F0FDFD;
      padding: 2px 10px;
      border-radius: 999px;
    }
    .plan-header-tasks {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      font-size: 12px;
      font-weight: 700;
      color: #0D7377;
      background: #F0FDFD;
      padding: 3px 10px;
      border-radius: 999px;
      border: 1px solid rgba(13,115,119,0.15);
    }
    .plan-header-tasks svg { flex-shrink: 0; }

    /* ====== Plan Item Numbers ====== */
    .plan-item-number {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 28px;
      height: 24px;
      padding: 0 6px;
      border-radius: 6px;
      background: #F0FDFD;
      border: 1px solid rgba(13,115,119,0.12);
      font-family: 'Inter', sans-serif;
      font-size: 12px;
      font-weight: 700;
      color: #0D7377;
      flex-shrink: 0;
    }
    .plan-item-number--sub {
      background: #F8FAFB;
      border-color: #E2E8F0;
      color: #475569;
      font-weight: 600;
    }
    .plan-item-tasks-badge {
      display: inline-flex;
      align-items: center;
      gap: 3px;
      padding: 2px 8px;
      border-radius: 999px;
      background: #F8FAFB;
      border: 1px solid #E2E8F0;
      font-size: 11px;
      font-weight: 600;
      color: #64748B;
      white-space: nowrap;
      flex-shrink: 0;
    }
    .plan-add-btn {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 4px 12px;
      border-radius: 999px;
      border: 1.5px dashed #CBD5E1;
      background: transparent;
      font-size: 12px;
      font-weight: 600;
      color: #0D7377;
      cursor: pointer;
      transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.15s ease;
      font-family: 'Inter', sans-serif;
    }
    .plan-add-btn:hover { border-color: #0D7377; background: #F0FDFD; transform: translateY(-1px); }
    .plan-add-btn:focus-visible { outline: 2px solid #0D7377; outline-offset: 2px; }
    .plan-add-btn:active { transform: scale(0.96); }

    /* ====== Plan Gantt Markers ====== */
    .plan-marker-label {
      position: absolute;
      top: -22px;
      transform: translateX(-50%);
      font-size: 9px;
      font-weight: 700;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      padding: 2px 8px;
      border-radius: 4px;
      white-space: nowrap;
      z-index: 4;
    }
    .plan-marker-label--start {
      display: none;
    }
    .plan-marker-label--today {
      background: #DC2626;
      color: white;
    }
    .plan-marker-line {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 2px;
      z-index: 3;
      pointer-events: none;
    }
    .plan-marker-line--start {
      background: #0D7377;
      width: 1.5px;
      opacity: 0.25;
    }
    .plan-marker-line--today {
      background: #DC2626;
      opacity: 0.5;
    }

    /* Cost Overview Section */
    .cost-overview { margin-top: 32px; }
    .cost-overview-card {
      background: white; border-radius: 12px; border: 1px solid #E2E8F0;
      overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.04);
    }
    .cost-overview-header {
      display: flex; justify-content: space-between; align-items: center;
      padding: 20px 24px; border-bottom: 1px solid #E2E8F0;
    }
    .cost-overview-body {
      display: grid; grid-template-columns: 1fr 1fr; gap: 0;
    }
    .cost-overview-left {
      padding: 24px; border-right: 1px solid #E2E8F0;
    }
    .cost-overview-right {
      padding: 24px; display: flex; flex-direction: column;
      align-items: center; justify-content: center;
    }
    .cost-bar-group { margin-bottom: 20px; }
    .cost-bar-label {
      display: flex; justify-content: space-between; font-size: 13px;
      font-weight: 500; color: #475569; margin-bottom: 6px;
    }
    .cost-bar-track {
      height: 28px; background: #F1F5F9; border-radius: 6px;
      overflow: hidden; position: relative;
    }
    .cost-bar-fill {
      height: 100%; border-radius: 6px;
      transition: width 0.8s cubic-bezier(0.16, 1, 0.3, 1);
      display: flex; align-items: center; padding: 0 10px;
      font-size: 12px; font-weight: 600; color: white; white-space: nowrap;
    }
    .cost-bar-fill--soll { background: linear-gradient(90deg, #0D7377, #0FA8A3); }
    .cost-bar-fill--ist-ok { background: linear-gradient(90deg, #F59E0B, #FBBF24); }
    .cost-bar-fill--ist-over { background: linear-gradient(90deg, #DC2626, #EF4444); }
    .budget-util-track {
      height: 10px; background: #E2E8F0; border-radius: 5px;
      overflow: hidden; margin-top: 8px;
    }
    .budget-util-fill {
      height: 100%; border-radius: 5px;
      transition: width 0.8s cubic-bezier(0.16, 1, 0.3, 1);
    }
    .cost-donut {
      width: 160px; height: 160px; border-radius: 50%;
      position: relative; margin-bottom: 16px;
    }
    .cost-donut-hole {
      position: absolute; top: 24px; left: 24px; right: 24px; bottom: 24px;
      background: white; border-radius: 50%;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
    }
    .cost-donut-total { font-size: 15px; font-weight: 700; color: #063838; }
    .cost-donut-sublabel { font-size: 11px; color: #64748B; }
    .cost-legend {
      display: flex; flex-wrap: wrap; gap: 8px 16px; justify-content: center;
    }
    .cost-legend-item {
      display: flex; align-items: center; gap: 6px; font-size: 12px; color: #475569;
    }
    .cost-legend-dot {
      width: 10px; height: 10px; border-radius: 3px; flex-shrink: 0;
    }
    @media (max-width: 768px) {
      .cost-overview-body { grid-template-columns: 1fr; }
      .cost-overview-left { border-right: none; border-bottom: 1px solid #E2E8F0; }
    }

    /* Status Dots */
    .ap-status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      flex-shrink: 0;
    }
    .ap-status-dot--offen { background: #F59E0B; }
    .ap-status-dot--in_bearbeitung { background: #0D7377; }
    .ap-status-dot--abgeschlossen { background: #94A3B8; }

    /* Label Card Layout */
    .ap-label-info {
      display: flex;
      flex-direction: column;
      min-width: 0;
    }
    .ap-label-name {
      font-weight: 600;
      font-size: 13px;
      color: #1E293B;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 160px;
    }
    .ap-label-dates {
      font-size: 11px;
      color: #94A3B8;
      white-space: nowrap;
    }
    .ap-employee-count {
      width: 22px;
      height: 22px;
      border-radius: 50%;
      background: #F0FDFD;
      border: 1px solid #CCFBF9;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      font-weight: 700;
      color: #0D7377;
      flex-shrink: 0;
    }
    .ap-label-actions {
      display: flex;
      gap: 2px;
      margin-left: auto;
      opacity: 0;
      transition: opacity 0.15s ease;
    }
    .ap-timeline-table tbody tr:hover .ap-label-actions {
      opacity: 1;
    }

    /* Collapse Chevron */
    .ap-chevron {
      width: 18px;
      height: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      border-radius: 4px;
      transition: transform 0.2s cubic-bezier(0.16, 1, 0.3, 1), background 0.15s ease;
      color: #94A3B8;
      flex-shrink: 0;
      font-size: 12px;
      border: none;
      background: none;
      padding: 0;
    }
    .ap-chevron:hover { background: #F0FDFD; color: #0D7377; }
    .ap-chevron--collapsed { transform: rotate(-90deg); }

    /* Today Marker */
    .ap-today-marker {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 2px;
      background: #0D7377;
      z-index: 5;
      pointer-events: none;
    }
    .ap-today-marker::after {
      content: '';
      position: absolute;
      top: 0;
      left: -3px;
      width: 8px;
      height: 8px;
      background: #0D7377;
      border-radius: 50%;
    }

    /* Gantt Bar Status Variants */
    .ap-gantt-bar--completed {
      background-image: repeating-linear-gradient(
        -45deg,
        transparent,
        transparent 4px,
        rgba(255,255,255,0.18) 4px,
        rgba(255,255,255,0.18) 8px
      ) !important;
    }
    .ap-gantt-bar--offen {
      border: 2px dashed rgba(255,255,255,0.5);
      box-sizing: border-box;
    }

    /* Progress Overlay on Bar */
    .ap-bar-progress {
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      background: rgba(0,0,0,0.15);
      border-radius: inherit;
      pointer-events: none;
      transition: width 0.3s ease;
    }

    /* Rich Tooltip */
    .ap-rich-tooltip {
      position: fixed;
      z-index: 200;
      background: white;
      border: 1px solid #E2E8F0;
      border-radius: 10px;
      padding: 14px 16px;
      box-shadow: 0 8px 24px rgba(13,115,119,0.12), 0 1px 2px rgba(0,0,0,0.06);
      min-width: 240px;
      max-width: 320px;
      pointer-events: none;
      font-family: 'Inter', sans-serif;
      animation: ap-fade-in 0.12s ease;
    }
    .ap-tt-name {
      font-weight: 700;
      font-size: 14px;
      color: #063838;
      margin-bottom: 6px;
    }
    .ap-tt-row {
      display: flex;
      justify-content: space-between;
      font-size: 12px;
      color: #475569;
      padding: 2px 0;
    }
    .ap-tt-row span:last-child {
      font-weight: 600;
      color: #1E293B;
    }
    .ap-tt-employees {
      margin-top: 8px;
      padding-top: 8px;
      border-top: 1px solid #F1F5F9;
    }
    .ap-tt-emp-item {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
      color: #334155;
      padding: 2px 0;
    }
    .ap-tt-emp-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: #0D7377;
      flex-shrink: 0;
    }

    /* Bar Animation */
    .ap-gantt-bar--animated {
      transform-origin: left center;
      animation: ap-bar-slide-in 0.35s cubic-bezier(0.16, 1, 0.3, 1) both;
    }

    /* Overflow Indicators */
    .ap-overflow-ind {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 20px;
      z-index: 2;
      pointer-events: none;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 9px;
      color: white;
      font-weight: 700;
    }
    .ap-overflow-ind--left {
      left: 0;
      background: linear-gradient(90deg, rgba(0,0,0,0.15), transparent);
    }
    .ap-overflow-ind--right {
      right: 0;
      background: linear-gradient(-90deg, rgba(0,0,0,0.15), transparent);
    }

    /* Enhanced Empty State */
    .ap-empty-icon {
      width: 64px;
      height: 64px;
      margin: 0 auto 20px;
      background: #F0FDFD;
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
    }

    /* View Crossfade */
    .ap-timeline-body--entering {
      animation: ap-fade-in 0.25s ease both;
    }

    @media (max-width: 640px) {
      .cal-day { min-height: 44px; padding: 3px 4px; }
      .cal-day-number { font-size: 11px; }
      .cal-day-label { display: none; }
      .cal-day-dots { display: none; }
      .cal-nav h2 { font-size: 16px; }
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* ====== Login Page Animation ====== */
    @keyframes login-fade-up {
      from { opacity: 0; transform: translateY(24px) scale(0.97); }
      to   { opacity: 1; transform: translateY(0) scale(1); }
    }
    .login-card-animated {
      animation: login-fade-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) both;
    }

    /* ====== Sidebar User Avatar ====== */
    .sidebar-user-avatar {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      background: linear-gradient(135deg, #0D7377, #2BC8C4);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
      font-weight: 700;
      color: white;
      flex-shrink: 0;
    }

    /* ====== Stat Card Icons ====== */
    .stat-card-icon {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    /* ====== Enhanced Empty State ====== */
    .empty-state-icon {
      width: 72px;
      height: 72px;
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 20px;
    }

    /* ====== Modal Close Button ====== */
    .modal-close-btn {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      border: none;
      background: transparent;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #94A3B8;
      transition: background 0.15s ease, color 0.15s ease, transform 0.15s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .modal-close-btn:hover { background: #FEE2E2; color: #DC2626; transform: rotate(90deg); }
    .modal-close-btn:active { transform: rotate(90deg) scale(0.9); }

    /* ====== Responsive / Mobile ====== */
    .mobile-hamburger {
      display: none;
      position: fixed;
      top: 12px;
      left: 12px;
      z-index: 60;
      width: 44px;
      height: 44px;
      border-radius: 10px;
      border: none;
      background: #032525;
      color: white;
      cursor: pointer;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }
    .sidebar-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.4);
      z-index: 45;
    }
    @media (max-width: 768px) {
      .sidebar {
        position: fixed;
        top: 0;
        left: -280px;
        z-index: 50;
        transition: left 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        width: 260px;
      }
      .sidebar.mobile-open {
        left: 0;
      }
      .sidebar-overlay.visible {
        display: block;
      }
      .mobile-hamburger {
        display: flex;
      }
      #main-content {
        margin-left: 0 !important;
        padding: 20px 16px !important;
        padding-top: 64px !important;
      }
      .cost-overview-body { grid-template-columns: 1fr; }
      .cost-overview-left { border-right: none; border-bottom: 1px solid #E2E8F0; }
    }
    @media (max-width: 480px) {
      .plan-tabs { flex-wrap: wrap; }
      .plan-tab { padding: 10px 14px; font-size: 12px; }
    }

    /* ====== Tabs: Filled Pill Active State ====== */
    .plan-tab.active {
      color: white;
      background: #0D7377;
      border-bottom-color: transparent;
      border-radius: 8px;
      margin: 4px 0;
    }
    .plan-tab:hover:not(.active) {
      background: #F0FDFD;
      border-radius: 8px;
    }

    /* ====== Sticky Table Header Border ====== */
    .data-table thead th {
      box-shadow: 0 1px 0 0 #E2E8F0;
    }
    .ap-timeline-table thead th {
      box-shadow: 0 1px 0 0 #E2E8F0;
    }

    /* ====== Calendar Legend: Rounded Square Swatches ====== */
    .cal-legend-swatch {
      border-radius: 4px;
    }

    /* ====== Loading Spinner: Brand Colors ====== */
    .loading-spinner {
      width: 32px;
      height: 32px;
      border: 3px solid #E2E8F0;
      border-top-color: #0D7377;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }

    /* ====== Breadcrumb Chevrons ====== */
    .breadcrumb-sep {
      color: #CBD5E1;
      display: inline-flex;
      align-items: center;
      margin: 0 4px;
    }

    /* ====== Delete button SVG instead of emoji ====== */
    .btn-icon-delete {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      border-radius: 8px;
      border: none;
      background: transparent;
      cursor: pointer;
      color: #94A3B8;
      transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), background 0.15s ease, color 0.15s ease;
    }
    .btn-icon-delete:hover { background: #FEE2E2; color: #DC2626; transform: translateY(-1px); }
    .btn-icon-delete:active { transform: scale(0.92); }

    /* ====== Gantt Sub-AP Visual Hierarchy ====== */
    .ap-gantt-row--sub td.ap-td-label {
      padding-left: 36px !important;
    }
    .ap-gantt-row--sub .ap-label-name {
      font-size: 12px;
      color: #475569;
    }
    .ap-gantt-row--sub .ap-gantt-bar {
      opacity: 0.8;
      top: 11px;
      bottom: 11px;
    }

    /* ====== Table Total Row ====== */
    .data-table tfoot td {
      padding: 12px 16px;
      font-weight: 700;
      color: #063838;
      background: #F0FDFD;
      border-top: 2px solid #0D7377;
    }

    /* ====== Prefers Reduced Motion ====== */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }
  </style>
</head>
<body class="grain">

  <!-- Login Overlay -->
  <div id="login-overlay" style="position:fixed; inset:0; z-index:9999; background:linear-gradient(135deg, #063838 0%, #0A5C5F 50%, #0D7377 100%); display:flex; align-items:center; justify-content:center;">
    <div class="login-card-animated" style="background:white; border-radius:16px; padding:40px; width:100%; max-width:400px; box-shadow:0 25px 60px rgba(0,0,0,0.3);">
      <!-- Login Form -->
      <div id="login-form">
        <div style="text-align:center; margin-bottom:28px;">
          <div style="width:48px; height:48px; background:linear-gradient(135deg,#0D7377,#0FA8A3); border-radius:12px; display:inline-flex; align-items:center; justify-content:center; margin-bottom:12px;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0110 0v4"/></svg>
          </div>
          <h2 style="font-family:'DM Serif Display',serif; font-size:24px; color:#063838; margin:0;">Novarix</h2>
          <p style="color:#64748B; font-size:14px; margin:4px 0 0;">Bitte anmelden um fortzufahren</p>
        </div>
        <div id="login-error" style="display:none; background:#FEF2F2; border:1px solid #FECACA; color:#DC2626; border-radius:8px; padding:10px 14px; font-size:13px; margin-bottom:16px;"></div>
        <div style="margin-bottom:16px;">
          <label style="display:block; font-size:13px; font-weight:600; color:#334155; margin-bottom:6px;">E-Mail</label>
          <input id="login-email" type="email" placeholder="E-Mail Adresse" style="width:100%; padding:10px 14px; border:1.5px solid #E2E8F0; border-radius:8px; font-size:14px; color:#1E293B; outline:none; box-sizing:border-box; transition:border-color 0.2s;" onfocus="this.style.borderColor='#0D7377'" onblur="this.style.borderColor='#E2E8F0'">
        </div>
        <div style="margin-bottom:24px;">
          <label style="display:block; font-size:13px; font-weight:600; color:#334155; margin-bottom:6px;">Passwort</label>
          <input id="login-password" type="password" placeholder="Passwort" style="width:100%; padding:10px 14px; border:1.5px solid #E2E8F0; border-radius:8px; font-size:14px; color:#1E293B; outline:none; box-sizing:border-box; transition:border-color 0.2s;" onfocus="this.style.borderColor='#0D7377'" onblur="this.style.borderColor='#E2E8F0'">
        </div>
        <button id="login-btn" onclick="AuthSystem.handleLogin()" style="width:100%; padding:12px; background:linear-gradient(135deg,#0D7377,#0FA8A3); color:white; border:none; border-radius:8px; font-size:14px; font-weight:600; cursor:pointer; transition:opacity 0.2s;" onmouseover="this.style.opacity='0.9'" onmouseout="this.style.opacity='1'">Anmelden</button>
        <div style="text-align:center; margin-top:16px;">
          <a href="#" onclick="AuthSystem.showReset(); return false;" style="color:#0D7377; font-size:13px; text-decoration:none;">Passwort vergessen?</a>
        </div>
      </div>
      <!-- Reset Form -->
      <div id="reset-form" style="display:none;">
        <div style="text-align:center; margin-bottom:28px;">
          <div style="width:48px; height:48px; background:linear-gradient(135deg,#0D7377,#0FA8A3); border-radius:12px; display:inline-flex; align-items:center; justify-content:center; margin-bottom:12px;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
          </div>
          <h2 style="font-family:'DM Serif Display',serif; font-size:24px; color:#063838; margin:0;">Passwort zur端cksetzen</h2>
          <p style="color:#64748B; font-size:14px; margin:4px 0 0;">Gib deine E-Mail ein um das Passwort zur端ckzusetzen</p>
        </div>
        <div id="reset-message" style="display:none; border-radius:8px; padding:10px 14px; font-size:13px; margin-bottom:16px;"></div>
        <div style="margin-bottom:16px;">
          <label style="display:block; font-size:13px; font-weight:600; color:#334155; margin-bottom:6px;">E-Mail</label>
          <input id="reset-email" type="email" placeholder="Registrierte E-Mail Adresse" style="width:100%; padding:10px 14px; border:1.5px solid #E2E8F0; border-radius:8px; font-size:14px; color:#1E293B; outline:none; box-sizing:border-box; transition:border-color 0.2s;" onfocus="this.style.borderColor='#0D7377'" onblur="this.style.borderColor='#E2E8F0'">
        </div>
        <div id="reset-new-pw" style="display:none; margin-bottom:16px;">
          <label style="display:block; font-size:13px; font-weight:600; color:#334155; margin-bottom:6px;">Neues Passwort</label>
          <input id="reset-new-password" type="password" placeholder="Neues Passwort eingeben" style="width:100%; padding:10px 14px; border:1.5px solid #E2E8F0; border-radius:8px; font-size:14px; color:#1E293B; outline:none; box-sizing:border-box; transition:border-color 0.2s;" onfocus="this.style.borderColor='#0D7377'" onblur="this.style.borderColor='#E2E8F0'">
        </div>
        <button onclick="AuthSystem.handleReset()" style="width:100%; padding:12px; background:linear-gradient(135deg,#0D7377,#0FA8A3); color:white; border:none; border-radius:8px; font-size:14px; font-weight:600; cursor:pointer; transition:opacity 0.2s;" onmouseover="this.style.opacity='0.9'" onmouseout="this.style.opacity='1'">Zur端cksetzen</button>
        <div style="text-align:center; margin-top:16px;">
          <a href="#" onclick="AuthSystem.showLogin(); return false;" style="color:#0D7377; font-size:13px; text-decoration:none;">Zur端ck zum Login</a>
        </div>
      </div>
    </div>
  </div>

  <div id="app" style="min-height:100vh; display:none;">
    <!-- Mobile Hamburger -->
    <button class="mobile-hamburger" id="mobile-hamburger" onclick="document.querySelector('.sidebar').classList.toggle('mobile-open'); document.getElementById('sidebar-overlay').classList.toggle('visible');">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
    </button>
    <div class="sidebar-overlay" id="sidebar-overlay" onclick="document.querySelector('.sidebar').classList.remove('mobile-open'); this.classList.remove('visible');"></div>

    <!-- Sidebar -->
    <aside class="sidebar" style="display:flex; flex-direction:column; position:fixed; top:0; left:0; bottom:0; z-index:50;">
      <div style="padding:24px 24px 8px;">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 8 220 50" fill="none" style="width:170px; height:auto; display:block;">
          <defs>
            <linearGradient id="sidebarBarGrad" x1="0" y1="1" x2="0" y2="0">
              <stop offset="0%" stop-color="#3A7FD4"/><stop offset="100%" stop-color="#7ECEF5"/>
            </linearGradient>
            <linearGradient id="sidebarLineGrad" x1="0" y1="0" x2="1" y2="0">
              <stop offset="0%" stop-color="#4DAEE5"/><stop offset="100%" stop-color="#C2E8FB"/>
            </linearGradient>
            <filter id="sidebarBarGlow" x="-50%" y="-30%" width="200%" height="160%">
              <feGaussianBlur in="SourceGraphic" stdDeviation="2.5" result="blur"/>
              <feColorMatrix in="blur" type="matrix" values="0.3 0 0 0 0.18  0 0.5 0 0 0.42  0 0 1 0 0.62  0 0 0 0.55 0" result="tinted"/>
              <feMerge><feMergeNode in="tinted"/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
            <filter id="sidebarLineGlow" x="-30%" y="-60%" width="160%" height="220%">
              <feGaussianBlur in="SourceGraphic" stdDeviation="2.2" result="blur1"/>
              <feGaussianBlur in="SourceGraphic" stdDeviation="0.8" result="blur2"/>
              <feMerge><feMergeNode in="blur1"/><feMergeNode in="blur2"/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
            <radialGradient id="sidebarDotGlow" cx="50%" cy="50%" r="50%">
              <stop offset="0%" stop-color="#C2E8FB" stop-opacity="0.9"/>
              <stop offset="60%" stop-color="#7ECEF5" stop-opacity="0.35"/>
              <stop offset="100%" stop-color="#4DAEE5" stop-opacity="0"/>
            </radialGradient>
          </defs>
          <path d="M15.09 48L6.94 48L6.94 18.60L13.79 18.60L26.76 34.27L26.76 18.60L34.91 18.60L34.91 48L28.07 48L15.09 32.33L15.09 48ZM55.62 48.59L55.62 48.59Q52.09 48.59 49.11 47.45Q46.13 46.32 43.92 44.26Q41.72 42.20 40.50 39.41Q39.28 36.62 39.28 33.30L39.28 33.30Q39.28 29.98 40.50 27.19Q41.72 24.40 43.92 22.34Q46.13 20.28 49.11 19.15Q52.09 18.01 55.62 18.01L55.62 18.01Q59.15 18.01 62.13 19.15Q65.11 20.28 67.31 22.34Q69.52 24.40 70.74 27.19Q71.96 29.98 71.96 33.30L71.96 33.30Q71.96 36.62 70.74 39.41Q69.52 42.20 67.31 44.26Q65.11 46.32 62.13 47.45Q59.15 48.59 55.62 48.59ZM55.62 41.70L55.62 41.70Q57.84 41.70 59.65 40.67Q61.46 39.64 62.51 37.75Q63.56 35.86 63.56 33.30L63.56 33.30Q63.56 30.74 62.51 28.85Q61.46 26.96 59.65 25.93Q57.84 24.90 55.62 24.90L55.62 24.90Q53.39 24.90 51.59 25.93Q49.78 26.96 48.73 28.85Q47.68 30.74 47.68 33.30L47.68 33.30Q47.68 35.86 48.73 37.75Q49.78 39.64 51.59 40.67Q53.39 41.70 55.62 41.70ZM93.54 48L85.35 48L72.80 18.60L81.78 18.60L89.76 37.75L97.91 18.60L106.14 18.60L93.54 48Z" fill="#FFFFFF"/>
          <g transform="translate(108, 0)">
            <g filter="url(#sidebarBarGlow)">
              <rect x="0" y="42" width="5.5" height="6" rx="0.8" fill="url(#sidebarBarGrad)" opacity="0.50"/>
              <rect x="8" y="35" width="5.5" height="13" rx="0.8" fill="url(#sidebarBarGrad)" opacity="0.65"/>
              <rect x="16" y="27" width="5.5" height="21" rx="0.8" fill="url(#sidebarBarGrad)" opacity="0.82"/>
              <rect x="24" y="19" width="5.5" height="29" rx="0.8" fill="url(#sidebarBarGrad)" opacity="1"/>
            </g>
            <polyline points="2.75,40 10.75,33 18.75,25 26.75,17" stroke="url(#sidebarLineGrad)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none" filter="url(#sidebarLineGlow)" stroke-dasharray="42" stroke-dashoffset="42">
              <animate attributeName="stroke-dashoffset" from="42" to="0" dur="1.8s" fill="freeze" begin="0.3s" calcMode="spline" keySplines="0.16 1 0.3 1"/>
            </polyline>
            <circle cx="2.75" cy="40" r="1.8" fill="#4DAEE5" opacity="0"><animate attributeName="opacity" from="0" to="0.5" dur="0.3s" fill="freeze" begin="0.3s"/></circle>
            <circle cx="10.75" cy="33" r="1.8" fill="#4DAEE5" opacity="0"><animate attributeName="opacity" from="0" to="0.65" dur="0.3s" fill="freeze" begin="0.8s"/></circle>
            <circle cx="18.75" cy="25" r="1.8" fill="#7ECEF5" opacity="0"><animate attributeName="opacity" from="0" to="0.8" dur="0.3s" fill="freeze" begin="1.2s"/></circle>
            <circle cx="26.75" cy="17" r="6" fill="url(#sidebarDotGlow)" opacity="0"><animate attributeName="opacity" from="0" to="1" dur="0.4s" fill="freeze" begin="1.6s"/></circle>
            <circle cx="26.75" cy="17" r="2.2" fill="#C2E8FB" opacity="0"><animate attributeName="opacity" from="0" to="1" dur="0.4s" fill="freeze" begin="1.6s"/></circle>
          </g>
          <path d="M154.26 48L145.94 48L145.94 18.60L159.09 18.60Q165.55 18.60 169.00 21.52Q172.44 24.44 172.44 29.48L172.44 29.48Q172.44 32.71 170.93 35.09Q169.42 37.46 166.65 38.76L166.65 38.76L173.03 48L164.13 48L158.79 40.19L154.26 40.19L154.26 48ZM154.26 25.15L154.26 33.76L158.88 33.76Q161.48 33.76 162.76 32.63Q164.04 31.49 164.04 29.48L164.04 29.48Q164.04 27.42 162.76 26.29Q161.48 25.15 158.88 25.15L158.88 25.15L154.26 25.15ZM185.34 48L177.02 48L177.02 18.60L185.34 18.60L185.34 48ZM189.20 18.60L198.70 18.60L201.20 23.67L203.70 18.60L213.20 18.60L205.95 33.30L213.20 48.00L203.70 48.00L201.20 42.93L198.70 48.00L189.20 48.00L196.45 33.30Z" fill="#FFFFFF"/>
        </svg>
      </div>
      <nav style="margin-top:24px; flex:1;" id="sidebar-nav">
        <a href="#/dashboard" class="sidebar-link active" data-route="dashboard">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg>
          Dashboard
        </a>
        <a href="#/mitarbeiter" class="sidebar-link" data-route="mitarbeiter">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87"/><path d="M16 3.13a4 4 0 010 7.75"/></svg>
          Mitarbeiter
        </a>
        <a href="#/feiertage" class="sidebar-link" data-route="feiertage">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
          Feiertage
        </a>
        <a href="#/export-historie" class="sidebar-link" data-route="export-historie">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
          Export-Historie
        </a>
        <a href="#/aenderungsprotokoll" class="sidebar-link" data-route="aenderungsprotokoll">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20h9"/><path d="M16.5 3.5a2.12 2.12 0 013 3L7 19l-4 1 1-4L16.5 3.5z"/></svg>
          nderungsprotokoll
        </a>
        <a href="#/sitzungsprotokoll" class="sidebar-link" data-route="sitzungsprotokoll" id="sidebar-sitzungsprotokoll" style="display:none;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
          Sitzungsprotokoll
        </a>
      </nav>
      <div style="padding:16px 24px; border-top:1px solid rgba(255,255,255,0.08);">
        <p style="font-size:11px; color:rgba(255,255,255,0.4); margin:0 0 8px; text-transform:uppercase; letter-spacing:0.05em;">Daten</p>
        <button onclick="downloadJSON()" class="sidebar-link" style="width:100%; border:none; background:none; font-size:13px; padding:8px 0;">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
          JSON-Backup
        </button>
        <button onclick="importJSON()" class="sidebar-link" style="width:100%; border:none; background:none; font-size:13px; padding:8px 0;">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
          JSON importieren
        </button>
        <div style="border-top:1px solid rgba(255,255,255,0.1); margin-top:12px; padding-top:12px;">
          <div id="sidebar-user-row" style="display:none; align-items:center; gap:10px; margin-bottom:10px;">
            <div id="sidebar-user-avatar" class="sidebar-user-avatar"></div>
            <p id="sidebar-user-info" style="font-size:12px; color:rgba(255,255,255,0.7); margin:0; font-weight:500;"></p>
          </div>
          <button onclick="AuthSystem.logout()" class="sidebar-link" style="width:100%; border:none; background:none; font-size:13px; padding:8px 0; color:#F87171;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
            Abmelden
          </button>
        </div>
        <p style="font-size:11px; color:rgba(255,255,255,0.25); margin:8px 0 0;">v2.0 &middot; Lokal gespeichert</p>
      </div>
    </aside>

    <!-- Main content -->
    <main id="main-content" style="margin-left:260px; flex:1; min-height:100vh; padding:32px 40px; position:relative; overflow-x:hidden;">
    </main>
  </div>

  <!-- Modal root -->
  <div id="modal-root"></div>

  <!-- Backend API Client (optional  app works offline with localStorage too) -->
  <!-- Set window.NOVARIX_API_URL before api-client.js loads.
       On Railway: inject via env or set manually, e.g.:
       window.NOVARIX_API_URL = 'https://your-backend.railway.app/api/v1'; -->
  <script>
    // Production: connect to Railway backend
    if (location.hostname !== 'localhost' && location.hostname !== '127.0.0.1') {
      window.NOVARIX_API_URL = 'https://novarix-backend-production.up.railway.app/api/v1';
    }
  </script>
  <script src="api-client.js"></script>


  <script type="module" src="js/app.js"></script>
</body>
</html>
